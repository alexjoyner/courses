{"version":3,"file":"index.js","sourceRoot":"","sources":["index.ts"],"names":[],"mappings":";AAaA,MAAe,UAAU;IAGxB,YAAY,YAAiB;QAC5B,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;IAClC,CAAC;IAED,WAAW;QACV,OAAO,IAAI,CAAC,QAAQ,CAAC;IACtB,CAAC;IACD,UAAU,CAAM,OAAsC;QACrD,OAAO,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;IAC9C,CAAC;IACD,GAAG,CAAC,KAAa;QAChB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;IACjD,CAAC;CACD;AAuBD,+BAA+B;AAE/B,0BAA0B;AAC1B,MAAe,WAAY,SAAQ,UAAU;IAE5C,YAAY,YAAkB;QAC7B,KAAK,CAAC,YAAY,CAAC,CAAC;QACpB,IAAI,CAAC,QAAQ,GAAG,YAAY,CAAC,WAAW,EAAE,CAAC;IAC5C,CAAC;IACS,UAAU,CAAC,OAA2B,EAAE,QAAa;QAC9D,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,QAAQ,CAAC;IACnC,CAAC;CACD;AAED,kBAAkB;AAClB,MAAM,IAAI;IAAV;QACS,aAAQ,GAAiB;YAChC,MAAM,EAAE,EAAE;YACV,OAAO,EAAE,EAAE;YACX,IAAI,EAAE,EAAE;SACR,CAAC;IAUH,CAAC;IATA,WAAW;QACV,OAAO,IAAI,CAAC,QAAQ,CAAC;IACtB,CAAC;IACD,UAAU,CAAM,OAAsC;QACrD,OAAO,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC;IAC1B,CAAC;IACD,GAAG,CAAC,KAAa;QAChB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;IACjD,CAAC;CACD;AAED,wCAAwC;AACxC,MAAM,eAAgB,SAAQ,WAAW;IACxC,YAAY,GAAS;QACpB,KAAK,CAAC,GAAG,CAAC,CAAC;QACX,MAAM,OAAO,GAA6B;YACzC,YAAY,EAAE,gBAAgB;YAC9B,aAAa,EAAE,iBAAiB;SAChC,CAAC;QACF,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;IACtC,CAAC;CACD;AAED,wCAAwC;AACxC,MAAM,eAAgB,SAAQ,WAAW;IACxC,YAAY,GAAS;QACpB,KAAK,CAAC,GAAG,CAAC,CAAC;QACX,MAAM,OAAO,GAA6B;YACzC,cAAc,EAAE,iBAAiB;SACjC,CAAC;QACF,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;IACtC,CAAC;CACD;AAED,6BAA6B;AAC7B,IAAI,MAAM,GAAG,IAAI,IAAI,EAAE,CAAC;AACxB,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC;AACnC,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC;AAEnC,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC","sourcesContent":["type Component = Object | Function | string;\r\n\r\n// This part can be abstracted out to a utility library\r\n//  It is designed to be reusable across apps\r\ninterface GenericFeatures {\r\n\t[key: string]: any;\r\n}\r\ninterface App {\r\n\tgetFeatures(): Object;\r\n\taddFeature<App>(Feature: { new (...args: any[]): App }): App;\r\n\tRun(props: Object): void;\r\n}\r\n\r\nabstract class AppFeature implements App {\r\n\tprotected abstract features: GenericFeatures;\r\n\tprivate decoratedApp: App;\r\n\tconstructor(decoratedApp: App) {\r\n\t\tthis.decoratedApp = decoratedApp;\r\n\t}\r\n\tprotected abstract setFeature(feature: string, settings: Object): void;\r\n\tgetFeatures(): Object {\r\n\t\treturn this.features;\r\n\t}\r\n\taddFeature<App>(Feature: { new (...args: any[]): App }): App {\r\n\t\treturn this.decoratedApp.addFeature(Feature);\r\n\t}\r\n\tRun(props: Object): void {\r\n\t\tconsole.log(JSON.stringify(this.getFeatures()));\r\n\t}\r\n}\r\n\r\n// DashBoard App Specific\r\n// Type Declarations\r\ntype ExtendableFeatures = 'Accounts' | 'Feedback';\r\ntype HeaderFeatureInterface = Component;\r\ntype SideBarFeatureInterface = Component;\r\ntype BodyFeatureInterface = Component;\r\ntype AccountsFeatureInterface = {\r\n\tSignInButton: Component;\r\n\tSignOutButton: Component;\r\n};\r\ntype FeedbackFeatureInterface = {\r\n\tFeedbackButton: Component;\r\n};\r\ninterface DashFeatures {\r\n\tHeader: HeaderFeatureInterface;\r\n\tSideBar: SideBarFeatureInterface;\r\n\tBody: BodyFeatureInterface;\r\n\tAccounts?: AccountsFeatureInterface;\r\n\tFeedback?: FeedbackFeatureInterface;\r\n}\r\n\r\n// Exported from Dashboard File\r\n\r\n//  Abstract Feature Class\r\nabstract class DashFeature extends AppFeature {\r\n\tprotected features: DashFeatures;\r\n\tconstructor(decoratedApp: Dash) {\r\n\t\tsuper(decoratedApp);\r\n\t\tthis.features = decoratedApp.getFeatures();\r\n\t}\r\n\tprotected setFeature(feature: ExtendableFeatures, settings: any): void {\r\n\t\tthis.features[feature] = settings;\r\n\t}\r\n}\r\n\r\n//  Base DashBoard\r\nclass Dash implements App {\r\n\tprivate features: DashFeatures = {\r\n\t\tHeader: '',\r\n\t\tSideBar: '',\r\n\t\tBody: ''\r\n\t};\r\n\tgetFeatures(): DashFeatures {\r\n\t\treturn this.features;\r\n\t}\r\n\taddFeature<App>(Feature: { new (...args: any[]): App }): App {\r\n\t\treturn new Feature(this);\r\n\t}\r\n\tRun(props: Object): void {\r\n\t\tconsole.log(JSON.stringify(this.getFeatures()));\r\n\t}\r\n}\r\n\r\n// Exported From Accounts Feature Folder\r\nclass AccountsFeature extends DashFeature {\r\n\tconstructor(App: Dash) {\r\n\t\tsuper(App);\r\n\t\tconst Feature: AccountsFeatureInterface = {\r\n\t\t\tSignInButton: 'Sign In Button',\r\n\t\t\tSignOutButton: 'Sign Out Button'\r\n\t\t};\r\n\t\tthis.setFeature('Accounts', Feature);\r\n\t}\r\n}\r\n\r\n// Exported From Feedback Feature Folder\r\nclass FeedbackFeature extends DashFeature {\r\n\tconstructor(App: Dash) {\r\n\t\tsuper(App);\r\n\t\tconst Feature: FeedbackFeatureInterface = {\r\n\t\t\tFeedbackButton: 'Feedback Button'\r\n\t\t};\r\n\t\tthis.setFeature('Feedback', Feature);\r\n\t}\r\n}\r\n\r\n// Implementation In Root App\r\nlet myDash = new Dash();\r\nmyDash.addFeature(AccountsFeature);\r\nmyDash.addFeature(FeedbackFeature);\r\n\r\nmyDash.Run({});\r\n"]}